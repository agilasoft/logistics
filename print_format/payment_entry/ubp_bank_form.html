<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: Arial, Helvetica, sans-serif;
            font-size: 9pt;
            line-height: 1.3;
            color: #000;
            background: white;
        }
        
        .form-container {
            width: 100%;
            max-width: 210mm;
            margin: 0 auto;
            padding: 5mm;
            background: white;
        }
        
        /* Header Section */
        .header-top {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 3mm;
        }
        
        .bank-name {
            font-size: 14pt;
            font-weight: bold;
        }
        
        .reference-top {
            font-size: 8pt;
        }
        
        .form-title {
            font-size: 16pt;
            font-weight: bold;
            text-align: center;
            margin-bottom: 3mm;
        }
        
        .reference-section {
            display: flex;
            justify-content: flex-end;
            gap: 10mm;
            margin-bottom: 3mm;
            font-size: 8pt;
        }
        
        .reference-field {
            display: flex;
            align-items: center;
            gap: 2mm;
        }
        
        .reference-label {
            font-weight: bold;
        }
        
        .reference-value {
            border-bottom: 1px solid #000;
            min-width: 30mm;
            padding: 0.5mm;
        }
        
        /* Applicant Type Section */
        .applicant-type {
            margin-bottom: 3mm;
            font-size: 8pt;
        }
        
        .applicant-type-label {
            font-weight: bold;
            margin-bottom: 1mm;
        }
        
        .checkbox-group {
            display: flex;
            gap: 5mm;
        }
        
        .checkbox-item {
            display: flex;
            align-items: center;
            gap: 1mm;
        }
        
        /* Main Form Table */
        .form-table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 3mm;
            font-size: 8pt;
        }
        
        .form-table td {
            padding: 1.5mm;
            border: 1px solid #000;
            vertical-align: top;
        }
        
        .form-table td:first-child {
            font-weight: bold;
            background: #f0f0f0;
            width: 30%;
            text-align: right;
            padding-right: 2mm;
        }
        
        .form-table td:not(:first-child) {
            background: white;
        }
        
        .form-table td.label-cell {
            font-weight: bold;
            background: #f0f0f0;
            text-align: right;
            padding-right: 2mm;
        }
        
        .form-table .section-header {
            background: #e0e0e0;
            font-weight: bold;
            text-align: center;
            padding: 2mm;
        }
        
        .field-value {
            min-height: 5mm;
            padding: 0.5mm;
        }
        
        /* Checkbox in table */
        .table-checkbox {
            display: inline-block;
            width: 3mm;
            height: 3mm;
            border: 1px solid #000;
            margin-right: 1mm;
            vertical-align: middle;
        }
        
        .table-checkbox.checked::after {
            content: "âœ“";
            display: block;
            text-align: center;
            line-height: 3mm;
            font-size: 6pt;
        }
        
        /* Large text area */
        .large-field {
            min-height: 15mm;
        }
        
        /* Signature Section */
        .signature-section {
            margin-top: 5mm;
            margin-bottom: 5mm;
        }
        
        .signature-table {
            width: 100%;
            border-collapse: collapse;
            font-size: 8pt;
        }
        
        .signature-table td {
            padding: 2mm;
            border: 1px solid #000;
            vertical-align: top;
        }
        
        .signature-table .section-header {
            background: #e0e0e0;
            font-weight: bold;
            text-align: center;
            padding: 2mm;
        }
        
        .signature-table td:not(.section-header) {
            background: white;
        }
        
        /* Bank Use Section */
        .bank-use-section {
            margin-top: 5mm;
            margin-bottom: 5mm;
        }
        
        .bank-use-table {
            width: 100%;
            border-collapse: collapse;
            font-size: 8pt;
        }
        
        .bank-use-table td {
            padding: 2mm;
            border: 1px solid #000;
            vertical-align: bottom;
            height: 12mm;
        }
        
        .bank-use-table .section-header {
            background: #e0e0e0;
            font-weight: bold;
            text-align: center;
            vertical-align: middle;
            height: auto;
        }
        
        .bank-use-table td:not(.section-header) {
            background: white;
        }
        
        /* Terms and Conditions */
        .terms-section {
            margin-top: 5mm;
            font-size: 7pt;
            line-height: 1.4;
        }
        
        .terms-title {
            font-weight: bold;
            margin-bottom: 2mm;
            text-decoration: underline;
        }
        
        .terms-content {
            text-align: justify;
        }
        
        @page {
            size: A4;
            margin: 10mm;
        }
        
        @media print {
            body {
                margin: 0;
                padding: 0;
            }
            .form-container {
                padding: 0;
                max-width: 100%;
            }
        }
    </style>
</head>
<body>
    <div class="form-container">
        <!-- Header -->
        <div class="header-top">
            <div class="bank-name">UB UnionBank</div>
            <div class="reference-top">TMP-XT-25-19</div>
        </div>
        
        <div class="form-title">APPLICATION FOR TELEGRAPHIC TRANSFER</div>
        
        <!-- Reference Number and Date -->
        <div class="reference-section">
            <div class="reference-field">
                <span class="reference-label">Reference No. (For Bank Use Only):</span>
                <span class="reference-value"></span>
            </div>
            <div class="reference-field">
                <span class="reference-label">Date of Application:</span>
                <span class="reference-value">
                    {% if doc.posting_date %}
                        {{ frappe.utils.formatdate(doc.posting_date, 'MM-dd-yyyy') }}
                    {% endif %}
                </span>
            </div>
        </div>
        
        <!-- Applicant Type -->
        <div class="applicant-type">
            <div class="applicant-type-label">APPLICANT TYPE:</div>
            <div class="checkbox-group">
                <div class="checkbox-item">
                    <span class="table-checkbox"></span>
                    <span>Individual</span>
                </div>
                <div class="checkbox-item">
                    <span class="table-checkbox checked"></span>
                    <span>Corporate / Other Entity</span>
                </div>
            </div>
            <div style="font-size: 7pt; margin-top: 1mm; font-style: italic;">Please fill out the page completely.</div>
        </div>
        
        <!-- Main Form -->
        <table class="form-table">
            <!-- Client Details -->
            <tr>
                <td colspan="4" class="section-header">CLIENT DETAILS</td>
            </tr>
            <tr>
                <td>FULL NAME / ENTITY NAME</td>
                <td colspan="3">
                    <div class="field-value">
                        {% set company_doc = frappe.get_doc("Company", doc.company) %}
                        {{ company_doc.company_name or doc.company }}
                    </div>
                </td>
            </tr>
            <tr>
                <td>ADDRESS (No./Building Name/Street/Barangay/City/Town/Province)</td>
                <td colspan="3">
                    <div class="field-value">
                        {% set company_doc = frappe.get_doc("Company", doc.company) %}
                        {% if company_doc.address %}
                            {% set company_address = frappe.get_doc("Address", company_doc.address) %}
                            {{ company_address.address_line1 if company_address.address_line1 else '' }}
                            {% if company_address.address_line2 %}{{ company_address.address_line2 }}{% endif %}
                            {% if company_address.city %}{{ company_address.city }}{% endif %}
                            {% if company_address.state %}, {{ company_address.state }}{% endif %}
                            {% if company_address.country %}{{ company_address.country }}{% endif %}
                            {% if company_address.pincode %} {{ company_address.pincode }}{% endif %}
                        {% elif company_doc.address_line1 %}
                            {{ company_doc.address_line1 }}
                            {% if company_doc.address_line2 %}{{ company_doc.address_line2 }}{% endif %}
                            {{ company_doc.city }}{% if company_doc.state %}, {{ company_doc.state }}{% endif %}
                            {{ company_doc.country }}{% if company_doc.pincode %} {{ company_doc.pincode }}{% endif %}
                        {% endif %}
                    </div>
                </td>
            </tr>
            <tr>
                <td>E-MAIL ADDRESS</td>
                <td>
                    <div class="field-value">
                        {% set company_doc = frappe.get_doc("Company", doc.company) %}
                        {{ company_doc.email or '' }}
                    </div>
                </td>
                <td class="label-cell">CONTACT NO.</td>
                <td>
                    <div class="field-value">
                        {% set company_doc = frappe.get_doc("Company", doc.company) %}
                        {{ company_doc.phone_no or company_doc.mobile_no or '' }}
                    </div>
                </td>
            </tr>
            <tr>
                <td></td>
                <td colspan="3">
                    <div class="field-value">
                        <strong>TYPE OF REMITTANCE</strong>
                        <span class="table-checkbox"></span> PDDTS
                        <span class="table-checkbox"></span> PESONET
                        <span class="table-checkbox"></span> RTGS
                        <span class="table-checkbox checked"></span> SWIFT
                    </div>
                </td>
            </tr>
            <tr>
                <td>CURRENCY</td>
                <td>
                    <div class="field-value">
                        {% set currency = doc.paid_from_account_currency or doc.paid_to_account_currency or 'PHP' %}
                        <span class="table-checkbox{% if currency == 'PHP' %} checked{% endif %}"></span> Peso
                        <span class="table-checkbox{% if currency == 'USD' %} checked{% endif %}"></span> US Dollar
                        <span class="table-checkbox{% if currency != 'PHP' and currency != 'USD' %} checked{% endif %}"></span> Third Currency: {{ currency }}
                    </div>
                </td>
                <td class="label-cell">FX RATE</td>
                <td>
                    <div class="field-value">
                        {% if doc.source_exchange_rate %}
                            {{ frappe.utils.fmt_money(doc.source_exchange_rate, precision=4) }}
                        {% endif %}
                    </div>
                </td>
            </tr>
            <tr>
                <td>CODE</td>
                <td>
                    <div class="field-value"></div>
                </td>
                <td class="label-cell">DEBIT TO ACCOUNT NO.</td>
                <td>
                    <div class="field-value">
                        {% if doc.paid_from_account %}
                            {% set account_doc = frappe.get_doc("Account", doc.paid_from_account) %}
                            {{ account_doc.account_number or account_doc.account_name or doc.paid_from_account }}
                        {% elif doc.paid_to_account %}
                            {% set account_doc = frappe.get_doc("Account", doc.paid_to_account) %}
                            {{ account_doc.account_number or account_doc.account_name or doc.paid_to_account }}
                        {% endif %}
                    </div>
                </td>
            </tr>
            <tr>
                <td>AMOUNT (in words)</td>
                <td>
                    <div class="field-value">
                        {% set currency = doc.paid_from_account_currency or doc.paid_to_account_currency or 'PHP' %}
                        {% set payment_amount = doc.paid_amount %}
                        {% if doc.references %}
                            {% set payment_amount = 0 %}
                            {% for ref in doc.references %}
                                {% set payment_amount = payment_amount + ref.allocated_amount %}
                            {% endfor %}
                        {% endif %}
                        {{ frappe.utils.money_in_words(payment_amount, currency) }}
                    </div>
                </td>
                <td class="label-cell">AMOUNT (in figures)</td>
                <td>
                    <div class="field-value">
                        {% set currency = doc.paid_from_account_currency or doc.paid_to_account_currency or 'PHP' %}
                        {% set payment_amount = doc.paid_amount %}
                        {% if doc.references %}
                            {% set payment_amount = 0 %}
                            {% for ref in doc.references %}
                                {% set payment_amount = payment_amount + ref.allocated_amount %}
                            {% endfor %}
                        {% endif %}
                        {{ frappe.utils.fmt_money(payment_amount, precision=2) }} {{ currency }}
                    </div>
                </td>
            </tr>
            <tr>
                <td>PURPOSE</td>
                <td colspan="3">
                    <div class="field-value large-field">
                        {% if doc.remarks %}
                            {{ doc.remarks }}
                        {% elif doc.references %}
                            Payment for:
                            {% for ref in doc.references %}
                                {{ ref.reference_name }}{% if not loop.last %}, {% endif %}
                            {% endfor %}
                        {% endif %}
                    </div>
                </td>
            </tr>
            
            <!-- Beneficiary Details -->
            <tr>
                <td colspan="4" class="section-header">BENEFICIARY DETAILS</td>
            </tr>
            <tr>
                <td>BENEFICIARY NAME</td>
                <td>
                    <div class="field-value">
                        {% if doc.party_name %}
                            {{ doc.party_name }}
                        {% elif doc.party %}
                            {{ doc.party }}
                        {% endif %}
                    </div>
                </td>
                <td class="label-cell">BENEFICIARY ACCOUNT NO.</td>
                <td>
                    <div class="field-value">
                        {% if doc.party %}
                            {% set party_type = doc.party_type %}
                            {% if party_type == "Customer" %}
                                {% set party_doc = frappe.get_doc("Customer", doc.party) %}
                            {% elif party_type == "Supplier" %}
                                {% set party_doc = frappe.get_doc("Supplier", doc.party) %}
                            {% endif %}
                            {% if party_doc and party_doc.custom_bank_account %}
                                {{ party_doc.custom_bank_account }}
                            {% endif %}
                        {% endif %}
                    </div>
                </td>
            </tr>
            <tr>
                <td>BENEFICIARY ADDRESS</td>
                <td colspan="3">
                    <div class="field-value">
                        {% if doc.party %}
                            {% set party_type = doc.party_type %}
                            {% if party_type == "Customer" %}
                                {% set party_doc = frappe.get_doc("Customer", doc.party) %}
                            {% elif party_type == "Supplier" %}
                                {% set party_doc = frappe.get_doc("Supplier", doc.party) %}
                            {% endif %}
                            {% if party_doc and party_doc.customer_primary_address %}
                                {% set party_address = frappe.get_doc("Address", party_doc.customer_primary_address) %}
                                {{ party_address.address_line1 if party_address.address_line1 else '' }}
                                {% if party_address.address_line2 %}{{ party_address.address_line2 }}{% endif %}
                                {% if party_address.city %}{{ party_address.city }}{% endif %}
                                {% if party_address.state %}, {{ party_address.state }}{% endif %}
                                {% if party_address.country %}{{ party_address.country }}{% endif %}
                                {% if party_address.pincode %} {{ party_address.pincode }}{% endif %}
                            {% elif party_doc and party_doc.supplier_primary_address %}
                                {% set party_address = frappe.get_doc("Address", party_doc.supplier_primary_address) %}
                                {{ party_address.address_line1 if party_address.address_line1 else '' }}
                                {% if party_address.address_line2 %}{{ party_address.address_line2 }}{% endif %}
                                {% if party_address.city %}{{ party_address.city }}{% endif %}
                                {% if party_address.state %}, {{ party_address.state }}{% endif %}
                                {% if party_address.country %}{{ party_address.country }}{% endif %}
                                {% if party_address.pincode %} {{ party_address.pincode }}{% endif %}
                            {% endif %}
                        {% endif %}
                    </div>
                </td>
            </tr>
            
            <!-- Beneficiary Bank Details -->
            <tr>
                <td colspan="4" class="section-header">BENEFICIARY BANK DETAILS</td>
            </tr>
            <tr>
                <td>RECEIVING BANK</td>
                <td>
                    <div class="field-value"></div>
                </td>
                <td class="label-cell">INTERMEDIARY BANK</td>
                <td>
                    <div class="field-value"></div>
                </td>
            </tr>
            <tr>
                <td>BANK NAME</td>
                <td colspan="3">
                    <div class="field-value">
                        {% if doc.paid_to_account %}
                            {% set account_doc = frappe.get_doc("Account", doc.paid_to_account) %}
                            {{ account_doc.account_name or doc.paid_to_account }}
                        {% elif doc.paid_from_account %}
                            {% set account_doc = frappe.get_doc("Account", doc.paid_from_account) %}
                            {{ account_doc.account_name or doc.paid_from_account }}
                        {% endif %}
                    </div>
                </td>
            </tr>
            <tr>
                <td>SWIFT CODE / ROUTING NO.</td>
                <td colspan="3">
                    <div class="field-value"></div>
                </td>
            </tr>
            <tr>
                <td>ADDRESS / REFERENCE NO.</td>
                <td colspan="3">
                    <div class="field-value"></div>
                </td>
            </tr>
            
            <!-- Other Instructions -->
            <tr>
                <td colspan="4" class="section-header">OTHER INSTRUCTIONS</td>
            </tr>
            <tr>
                <td colspan="4">
                    <div class="field-value large-field"></div>
                </td>
            </tr>
        </table>
        
        <!-- Debit Authorization -->
        <div class="signature-section">
            <table class="signature-table">
                <tr>
                    <td colspan="2" class="section-header">DEBIT AUTHORIZATION</td>
                </tr>
                <tr>
                    <td colspan="2">
                        The application is subject to the conditions below to which I/we agree. If payment is to be debited from a deposit account, I/we authorize the Bank to debit my/our account for the payment of the Telegraphic Transfer including Bank charges. Further, I/We declare under the penalties of perjury that my/our co-depositors is/are still living.
                        <br><br>
                        <div style="margin-top: 5mm;">
                            <strong>CLIENT</strong><br>
                            (Signature Over Printed Name) ___________________________<br>
                            DATE ___________
                        </div>
                    </td>
                </tr>
            </table>
        </div>
        
        <!-- For Bank Use Only -->
        <div class="bank-use-section">
            <table class="bank-use-table">
                <tr>
                    <td colspan="2" class="section-header">FOR BANK USE ONLY</td>
                </tr>
                <tr>
                    <td>PROCESSED AND SIGNATURE VERIFIED BY:<br>(Signature Over Printed Name) ___________________________ DATE _______________</td>
                    <td>APPROVED BY:<br>(Signature Over Printed Name) ___________________________ DATE _______________</td>
                </tr>
            </table>
        </div>
        
        <!-- Terms and Conditions -->
        <div class="terms-section">
            <div class="terms-title">TERMS AND CONDITIONS</div>
            <div class="terms-content">
                <div style="margin-bottom: 2mm;">
                    <strong>CONDITIONS ON FUND TRANSFER / PAYMENT</strong><br>
                    Union Bank of the Philippines ("the Bank") will take the customary steps in the fund transfer / payment subject of this Application. Unless indicated otherwise, the Bank is free to make use of any correspondent, sub-agent or any other agency, but in no case shall the Bank or any of its correspondents be liable for mutilations, interruptions, omissions, errors, non-transmission, or delays occurring in the mails, or on the part of any telegraph, cable, or wireless company, or any employee of such company, or for any reason or cause whatsoever beyond the control of the Bank or its correspondents / agents.
                    <br><br>
                    The Bank may send any message relative to this fund transfer / payment in explicit language, codes or ciphers and shall not be liable for errors, neglects or defaults of its correspondents, sub-agents, or other agency.
                    <br><br>
                    The Client assumes / accepts full responsibility for fraudulent or erroneous instructions provided that the Bank has complied with the terms and conditions set forth in this application.
                </div>
                <div>
                    <strong>CONDITIONS ON FOREIGN CURRENCY REMITTANCES</strong><br>
                    Unless it is otherwise expressly agreed in writing, the Bank may, at its discretion, convert into foreign values the funds received from the Applicant at the Bank's selling rate on the day such funds are received. The Bank's statement in writing that it has effected such conversion shall be conclusive for all intents and purposes.
                    <br><br>
                    The Bank may require additional documents from the client to ascertain the details of the purpose of the Telegraphic Transfer in compliance to regulatory policies.
                </div>
            </div>
        </div>
    </div>
</body>
</html>
